
# Домашнее задание к занятию «Микросервисы: принципы»

## Задача 1: API Gateway 

| Решение            | Маршрутизация | Аутентификация | Терминация HTTPS | Бесплатно/Открыто?                                               |
|--------------------|---------------|----------------|------------------|------------------------------------------------------------------|
| Kong Gateway       | +             | +              | +                | Бесплатно, Apache 2.0                                            |
| Tyk.io             | +             | +              | +                | Бесплатно, MPL                                                   |
| HAProxy            | +             | +              | +                | Бесплатно                                                        |
| Yandex API Gateway | +             | +              | +                | Платно                                                           |
| Azure API Gateway  | +             | +              | +                | Платно                                                           |
| NGINX              | +             | +              | +                | Бесплатно                                                        |
| KrakenD            | +             | +              | +                | Двойное лицензирование, нужные функции частично в платной версии |
---------------------------------------------------------------------------------------------------------------------------------------------

По функционалу подходят все варианты. Для небольшого проекта целесообразно использовать облачные API Gateway.
Наиболее оптимальным для внедрения на своих серверных мощностях является NGINX - популярное бесплатное решение, большое сообщество. Можно рассмотреть HAProxy - более быстрая и универсальная альтернатива.


## Задача 2: Брокер сообщений

| Характеристика \ Брокер                               | Kafka | Redis | RabbitMQ | ActiveMQ |
|-------------------------------------------------------|-------|-------|----------|----------|
| Поддержка кластеризации для обеспечения надежности    | +     | +     | +        | +        |
| Хранение сообщений на диске в процессе доставки       | +     | -     | +        | +        |
| Высокая скорость работы                               | +     | +     | +        | -        |
| Поддержка различных форматов сообщений                | +     | +     | +        | +        |
| Разделение прав доступа к различным потокам сообщений | +     | +     | +        | +        |
| Простота эксплуатации                                 | +     | +     | +        | +        |
-----------------------------------------------------------------------------------------------

Наиболее подходящими являются Kafka или RabbitMQ. Kafka - более производительное решение. RabbitMQ позволяет подписчикам упорядочивать произвольные группы событий.

Kafka — это распределенная очередь с высокой пропускной способностью, созданная для длительного хранения больших объемов данных. Она идеально подходит в тех случаях, где требуется персистентность.

RabbitMQ — брокер со множеством функций и возможностей, поддерживающих сложную маршрутизацию. Он способен обеспечивать такую маршрутизацию сообщений при незначительном трафике (несколько десятков тысяч сообщений в секунду).

